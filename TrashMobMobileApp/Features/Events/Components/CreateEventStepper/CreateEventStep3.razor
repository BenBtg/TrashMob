@namespace TrashMobMobileApp.Features.Events.Components

<style>
    .tm-step3-container {
        height: 100%;
        padding: 20px;
    }

        .tm-step3-container .tm-loader {
            top: 50%;
            position: fixed;
        }

        .tm-step3-container .tm-form {
            margin-top: 10%;
        }

            .tm-step3-container .tm-form .tm-form-item {
                margin-top: 20px;
            }

            .tm-step3-container .tm-form .tm-action-item {
                position: fixed;
                bottom: 5%;
                width: 90%;
            }
</style>

<ErrorBoundary>
    <ChildContent>
        <MudContainer Class="tm-step3-container">
            <MudText Typo="Typo.subtitle2">Give us the location! (Map coming soon!)</MudText>
            <MudText Typo="Typo.body2">Latitude and longitude are used to pinpoint locations in areas like state parks and will be auto-populated if location has street address.</MudText>
            <MudForm @ref="_form" Class="tm-form" @bind-IsValid="_success" @bind-Errors="_errors">
                <MudTextField T="string" FullWidth Class="tm-form-item" Variant="ComponentCommon.TextFieldVariant" @bind-Text="Event.StreetAddress" Label="Street Address" Required RequiredError="Street address is required" />
                <MudTextField T="string" FullWidth Class="tm-form-item" Variant="ComponentCommon.TextFieldVariant" @bind-Text="Event.City" Label="City" Required RequiredError="City is required" />
                <MudTextField T="string" FullWidth Class="tm-form-item" Variant="ComponentCommon.TextFieldVariant" @bind-Text="Event.Region" Label="State" Required RequiredError="State is required" />
                <MudNumericField T="int" FullWidth Class="tm-form-item" Variant="ComponentCommon.TextFieldVariant" @bind-Value="_postal" Label="Postal" Required RequiredError="Postal is required" />
                <MudNumericField FullWidth T="double?" Class="tm-form-item" Variant="ComponentCommon.TextFieldVariant" Label="Latitude" @bind-Value="@Event.Latitude" />
                <MudNumericField FullWidth T="double?" Class="tm-form-item" Variant="ComponentCommon.TextFieldVariant" Label="Longitude" @bind-Value="@Event.Longitude" />
                <MudStack Row Justify="Justify.Center" Class="tm-action-item">
                    <MudButton FullWidth Variant="ComponentCommon.ButtonFilled" Color="ComponentCommon.PrimaryColor" OnClick="@OnStepFinishedAsync">Next</MudButton>
                </MudStack>
            </MudForm>
        </MudContainer>
    </ChildContent>
    <ErrorContent>
        @context.Message
    </ErrorContent>
</ErrorBoundary>